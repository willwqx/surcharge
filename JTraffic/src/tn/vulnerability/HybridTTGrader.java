package tn.vulnerability;

import java.io.PrintStream;

import tn.Assignment;
import tn.algorithm.FrankWolfeRouter;
import tn.algorithm.ShortestPathRouter;

public class HybridTTGrader extends TTGrader{
	
	public HybridTTGrader(PrintStream out) {
		
		super(out);
		
		rerouteAll = true;
	}

	@Override
	public String getTitle() {
		
		return "Hybrid";
	}
	
	@Override 
	protected void beginGrade(){
		
		super.beginGrade();
		
		network.resetFlow();
		
	}
	
	@Override
	protected void createRouters() {

		router = new FrankWolfeRouter(1e-6, null, null);         // The third one should be travel cost; null was used just to stop the error from occurring each time we run. Correct before use.

		rerouter = new ShortestPathRouter(network, network.getTravelCost(),null);
	}

	@Override 
	protected Assignment reroute() {
		
		network.loadAssignment(baseAssignment);
		
		return super.reroute();
		
	}
}
