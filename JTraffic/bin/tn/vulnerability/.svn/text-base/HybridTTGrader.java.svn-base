package tn.vulnerability;

import java.io.PrintStream;

import tn.Assignment;
import tn.Demand;
import tn.TrafficNetwork;
import tn.TrafficNetwork.*;
import tn.algorithm.*;
import tn.misc.LinkDoublePropertyMap;

public class HybridTTGrader extends TTGrader{
	
	public HybridTTGrader(PrintStream out) {
		
		super(out);
		
		rerouteAll = true;
	}

	@Override
	public String getTitle() {
		
		return "Hybrid";
	}
	
	@Override 
	protected void beginGrade(){
		
		super.beginGrade();
		
		network.resetFlow();
		
	}
	
	@Override
	protected void createRouters() {

		router = new FrankWolfeRouter(1e-6, null);

		rerouter = new ShortestPathRouter(network, network.getTravelCost(),null);
	}

	@Override 
	protected Assignment reroute() {
		
		network.loadAssignment(baseAssignment);
		
		return super.reroute();
		
	}
}
