package tn.vulnerability;

import java.io.PrintStream;

import tn.TrafficNetwork;
import tn.algorithm.*;
import tn.misc.LinkReadOnlyProperty;
import tn.misc.LinkDoublePropertyMap;
import tn.Demand;

public class FFTTGrader extends TTGrader {
	

	public FFTTGrader(PrintStream out) {
		
		super(out);
	}

	@Override
	public String getTitle() {
		
		return "FFTT";
	}

	@Override
	double getLinkTravelTime(int linkId) {

		return network.getFreeFlowTravelTime(linkId);
	}
	
	@Override
	protected void createRouters() {
		
		rerouter = router = new ShortestPathRouter(network, disruptable,null); 
		// new ShortestPathRouter(null);
	}

	LinkReadOnlyProperty<Double> oldTravelTime;
	
	@Override
	protected void beginGrade() {
		super.beginGrade();
		oldTravelTime = network.getTravelTime();
		network.setTravelTime(network.getFreeFlowTravelTime());		
	}
	
	@Override
	protected void endGrade() {
		network.setTravelTime(oldTravelTime);
		super.endGrade();
	}

}
